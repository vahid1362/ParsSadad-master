function JalaliDate(){this.g_days_in_month=[31,28,31,30,31,30,31,31,30,31,30,31],this.j_days_in_month=[31,31,31,31,31,31,30,30,30,30,30,29],this.jalaliToGregorian=function(t,e,i){for(var n=(t=parseInt(t))-979,r=(e=parseInt(e))-1,a=(i=parseInt(i))-1,s=365*n+8*parseInt(n/33)+parseInt((n%33+3)/4),o=0;o<r;++o)s+=this.j_days_in_month[o];var g=(s+=a)+79,h=1600+400*parseInt(g/146097),u=!0;(g%=146097)>=36525&&(g--,h+=100*parseInt(g/36524),(g%=36524)>=365?g++:u=!1),h+=4*parseInt(g/1461),(g%=1461)>=366&&(u=!1,g--,h+=parseInt(g/365),g%=365);for(o=0;g>=this.g_days_in_month[o]+(1==o&&u);o++)g-=this.g_days_in_month[o]+(1==o&&u);return[h,o+1,g+1]},this.checkDate=function(t,e,i){return!(t<0||t>32767||e<1||e>12||i<1||i>this.j_days_in_month[e-1]+(12==e&&!((t-979)%33%4)))},this.gregorianToJalali=function(t,e,i){for(var n=(t=parseInt(t))-1600,r=(e=parseInt(e))-1,a=(i=parseInt(i))-1,s=365*n+parseInt((n+3)/4)-parseInt((n+99)/100)+parseInt((n+399)/400),o=0;o<r;++o)s+=this.g_days_in_month[o];r>1&&(n%4==0&&n%100!=0||n%400==0)&&++s;var g=(s+=a)-79,h=parseInt(g/12053);g%=12053;var u=979+33*h+4*parseInt(g/1461);(g%=1461)>=366&&(u+=parseInt((g-1)/365),g=(g-1)%365);for(o=0;o<11&&g>=this.j_days_in_month[o];++o)g-=this.j_days_in_month[o];return[u,o+1,g+1]},this.setJalali=function(){this.jalalidate=this.gregorianToJalali(this.gregoriandate.getFullYear(),this.gregoriandate.getMonth()+1,this.gregoriandate.getDate()),this.jalalidate[1]--},this.getDate=function(){return this.jalalidate[2]},this.getDay=function(){return this.gregoriandate.getDay()},this.getFullYear=function(){return this.jalalidate[0]},this.getHours=function(){return this.gregoriandate.getHours()},this.getMilliseconds=function(){return this.gregoriandate.getMilliseconds()},this.getMinutes=function(){return this.gregoriandate.getMinutes()},this.getMonth=function(){return this.jalalidate[1]},this.getSeconds=function(){return this.gregoriandate.getSeconds()},this.getTime=function(){return this.gregoriandate.getTime()},this.getTimezoneOffset=function(){return this.gregoriandate.getTimezoneOffset()},this.getUTCDate=function(){return this.gregoriandate.getUTCDate()},this.getUTCDay=function(){return this.gregoriandate.getUTCDay()},this.getUTCFullYear=function(){return this.gregoriandate.getUTCFullYear()},this.getUTCHours=function(){return this.gregoriandate.getUTCHours()},this.getUTCMilliseconds=function(){return this.gregoriandate.getUTCMilliseconds()},this.getUTCMinutes=function(){return this.gregoriandate.getUTCMinutes()},this.getUTCMonth=function(){return this.gregoriandate.getUTCMonth()},this.getUTCSeconds=function(){return this.gregoriandate.getUTCSeconds()},this.getYear=function(){return this.gregoriandate.getYear()},this.setDate=function(t){var e=-1*(this.jalalidate[2]-t),i=this.gregoriandate.setDate(this.gregoriandate.getDate()+e);return this.gregoriandate.setHours(0,0,0,0),this.setJalali(),i},this.setFullYear=function(t,e,i){var n=parseInt(t),r=parseInt(e),a=parseInt(i);isNaN(e)&&(r=0),isNaN(i)&&(a=1),r<0&&(r=0),12==r&&(n++,r=0),a<1&&(a=1);var s=this.jalaliToGregorian(n,r+1,a),o=this.gregoriandate.setFullYear(s[0],s[1]-1,s[2]);return this.gregoriandate.setHours(0,0,0,0),e<0||i<1?(e<0&&(o=this.gregoriandate.setMonth(this.gregoriandate.getMonth()+e)),i<1&&(o=this.gregoriandate.setDate(this.gregoriandate.getDate()+i-1)),this.setHours(1,0,0,0),this.setJalali()):this.jalalidate=[n,r,a],o},this.setHours=function(t,e,i,n){if(void 0==e)r=this.gregoriandate.setHours(t);else if(void 0==i)r=this.gregoriandate.setHours(t,e);else if(void 0==n)r=this.gregoriandate.setHours(t,e,i);else var r=this.gregoriandate.setHours(t,e,i,n);return this.setJalali(),r},this.setMilliseconds=function(t){var e=this.gregoriandate.setMilliseconds(t);return this.setJalali(),e},this.setMinutes=function(t){var e=this.gregoriandate.setMinutes(t);return this.setJalali(),e},this.setMonth=function(t,e){var i=this.jalalidate[0],n=parseInt(t),r=this.jalalidate[2];return 0==isNaN(e)&&(r=parseInt(e)),this.setFullYear(i,n,r)},this.setSeconds=function(t,e){var i=this.gregoriandate.setSeconds(t,e);return this.setJalali(),i},this.setTime=function(t){var e=this.gregoriandate.setTime(t);return this.setJalali(),e},this.setUTCDate=function(t){return this.gregoriandate.setUTCDate(t)},this.setUTCFullYear=function(t,e,i){return this.gregoriandate.setUTCFullYear(t,e,i)},this.setUTCHours=function(t,e,i,n){return this.gregoriandate.setUTCHours(t,e,i,n)},this.setUTCMilliseconds=function(t){return this.gregoriandate.setUTCMilliseconds(t)},this.setUTCMinutes=function(t,e,i){return this.gregoriandate.setUTCMinutes(t,e,i)},this.setUTCMonth=function(t,e){return this.gregoriandate.setUTCMonth(t,e)},this.setUTCSeconds=function(t,e){return this.gregoriandate.setUTCSeconds(t,e)},this.toDateString=function(){return this.jalalidate[0]+"/"+this.jalalidate[1]+"/"+this.jalalidate[2]},this.toISOString=function(){return this.toDateString()},this.toJSON=function(){return this.toDateString()},this.toLocaleDateString=function(){return this.toDateString()},this.toLocaleTimeString=function(){return this.gregoriandate.toLocaleTimeString()},this.toLocaleString=function(){return this.toDateString()+" "+this.toLocaleTimeString()},this.toString=function(){return this.toLocaleString()},this.toTimeString=function(){return this.toLocaleTimeString()},this.toUTCString=function(){return this.gregoriandate.toUTCString()},this.UTC=function(t,e,i,n,r,a,s){return Date.UTC(t,e,i,n,r,a,s)},this.valueOf=function(){return this.gregoriandate.valueOf()},this.gregoriandate=new Date,this.gregoriandate.setHours(0,0,0,0),0==arguments.length||(3==arguments.length?1900==arguments[0]||2099==arguments[0]?this.gregoriandate.setFullYear(arguments[0],arguments[1],arguments[2]):this.setFullYear(arguments[0],arguments[1],arguments[2]):6==arguments.length?(this.setFullYear(arguments[0],arguments[1],arguments[2]),this.setHours(arguments[3],arguments[4],arguments[5])):7==arguments.length?(this.setFullYear(arguments[0],arguments[1],arguments[2]),this.setHours(arguments[3],arguments[4],arguments[5],arguments[6])):1==arguments.length&&"number"==typeof arguments[0]?this.gregoriandate.setTime(arguments[0]):1==arguments.length&&"JalaliDate"==typeof arguments[0]&&(this.gregoriandate=arguments[0].gregoriandate)),this.setJalali()}JalaliDate.parse=function(t){try{if("string"!=typeof t&&(t=t.toString()),t.indexOf("Date(")>-1){var e=new Date(parseInt(t.replace(/^\/Date\((.*?)\)\/$/,"$1"),10));return new JalaliDate(i=new JalaliDate(e).getFullYear(),n=new JalaliDate(e).getMonth(),r=new JalaliDate(e).getDate())}var i=parseInt(t.substring(0,4)),n=parseInt(t.substring(5,7)),r=parseInt(t.substring(8,10));return new JalaliDate(i,n-1,r)}catch(t){return new JalaliDate(1300,1,1)}};